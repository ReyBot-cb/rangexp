import { AchievementDefinition } from '../types/condition.types';

export const ACHIEVEMENT_SEEDS: AchievementDefinition[] = [
  // ==================== REGISTROS (6) ====================
  {
    code: 'FIRST_LOG',
    name: 'Primer Registro',
    description: 'Registra tu primera glucemia',
    xpReward: 50,
    tier: 'bronze',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 1,
    },
  },
  {
    code: 'LOGS_10',
    name: 'Principiante',
    description: 'Registra 10 glucemias',
    xpReward: 75,
    tier: 'bronze',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 10,
    },
  },
  {
    code: 'LOGS_50',
    name: 'Monitoreando',
    description: 'Registra 50 glucemias',
    xpReward: 150,
    tier: 'silver',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 50,
    },
  },
  {
    code: 'LOGS_100',
    name: 'Centenario',
    description: 'Registra 100 glucemias',
    xpReward: 250,
    tier: 'silver',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 100,
    },
  },
  {
    code: 'LOGS_500',
    name: 'Experto',
    description: 'Registra 500 glucemias',
    xpReward: 500,
    tier: 'gold',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 500,
    },
  },
  {
    code: 'LOGS_1000',
    name: 'Maestro',
    description: 'Registra 1000 glucemias',
    xpReward: 1000,
    tier: 'platinum',
    category: 'REGISTROS',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 1000,
    },
  },

  // ==================== RACHAS (7) ====================
  {
    code: 'STREAK_3',
    name: 'Empezando Bien',
    description: 'Mantén tu racha por 3 días',
    xpReward: 50,
    tier: 'bronze',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 3,
    },
  },
  {
    code: 'STREAK_7',
    name: 'Una Semana',
    description: 'Mantén tu racha por 7 días',
    xpReward: 100,
    tier: 'silver',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 7,
    },
  },
  {
    code: 'STREAK_14',
    name: 'Dos Semanas',
    description: 'Mantén tu racha por 14 días',
    xpReward: 200,
    tier: 'silver',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 14,
    },
  },
  {
    code: 'STREAK_30',
    name: 'Un Mes',
    description: 'Mantén tu racha por 30 días',
    xpReward: 500,
    tier: 'gold',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 30,
    },
  },
  {
    code: 'STREAK_90',
    name: 'Trimestre',
    description: 'Mantén tu racha por 90 días',
    xpReward: 1000,
    tier: 'gold',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 90,
    },
  },
  {
    code: 'STREAK_180',
    name: 'Medio Año',
    description: 'Mantén tu racha por 180 días',
    xpReward: 2000,
    tier: 'platinum',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 180,
    },
  },
  {
    code: 'STREAK_365',
    name: 'Un Año',
    description: 'Mantén tu racha por 365 días',
    xpReward: 5000,
    tier: 'platinum',
    category: 'RACHAS',
    condition: {
      type: 'user_attribute',
      attribute: 'streak',
      operator: 'gte',
      value: 365,
    },
  },

  // ==================== NIVELES (5) ====================
  {
    code: 'LEVEL_5',
    name: 'Aprendiz',
    description: 'Alcanza el nivel 5',
    xpReward: 100,
    tier: 'bronze',
    category: 'NIVELES',
    condition: {
      type: 'user_attribute',
      attribute: 'level',
      operator: 'gte',
      value: 5,
    },
  },
  {
    code: 'LEVEL_10',
    name: 'Intermedio',
    description: 'Alcanza el nivel 10',
    xpReward: 200,
    tier: 'silver',
    category: 'NIVELES',
    condition: {
      type: 'user_attribute',
      attribute: 'level',
      operator: 'gte',
      value: 10,
    },
  },
  {
    code: 'LEVEL_25',
    name: 'Avanzado',
    description: 'Alcanza el nivel 25',
    xpReward: 500,
    tier: 'gold',
    category: 'NIVELES',
    condition: {
      type: 'user_attribute',
      attribute: 'level',
      operator: 'gte',
      value: 25,
    },
  },
  {
    code: 'LEVEL_50',
    name: 'Veterano',
    description: 'Alcanza el nivel 50',
    xpReward: 1000,
    tier: 'platinum',
    category: 'NIVELES',
    condition: {
      type: 'user_attribute',
      attribute: 'level',
      operator: 'gte',
      value: 50,
    },
  },
  {
    code: 'LEVEL_100',
    name: 'Leyenda',
    description: 'Alcanza el nivel 100',
    xpReward: 2500,
    tier: 'platinum',
    category: 'NIVELES',
    condition: {
      type: 'user_attribute',
      attribute: 'level',
      operator: 'gte',
      value: 100,
    },
  },

  // ==================== SOCIAL (5) ====================
  {
    code: 'FIRST_FRIEND',
    name: 'Nuevos Amigos',
    description: 'Añade tu primer amigo',
    xpReward: 50,
    tier: 'bronze',
    category: 'SOCIAL',
    condition: {
      type: 'count',
      entity: 'friends',
      operator: 'gte',
      value: 1,
    },
  },
  {
    code: 'FRIENDS_5',
    name: 'Círculo',
    description: 'Añade 5 amigos',
    xpReward: 100,
    tier: 'silver',
    category: 'SOCIAL',
    condition: {
      type: 'count',
      entity: 'friends',
      operator: 'gte',
      value: 5,
    },
  },
  {
    code: 'FRIENDS_10',
    name: 'Comunidad',
    description: 'Añade 10 amigos',
    xpReward: 200,
    tier: 'gold',
    category: 'SOCIAL',
    condition: {
      type: 'count',
      entity: 'friends',
      operator: 'gte',
      value: 10,
    },
  },
  {
    code: 'SHARE_FIRST',
    name: 'Compartiendo',
    description: 'Comparte por primera vez',
    xpReward: 50,
    tier: 'bronze',
    category: 'SOCIAL',
    condition: {
      type: 'count',
      entity: 'shares',
      operator: 'gte',
      value: 1,
    },
  },
  {
    code: 'HELPED_FRIEND',
    name: 'Mano Amiga',
    description: 'Envía tu primer ánimo a un amigo',
    xpReward: 50,
    tier: 'bronze',
    category: 'SOCIAL',
    condition: {
      type: 'count',
      entity: 'encouragements',
      operator: 'gte',
      value: 1,
    },
  },

  // ==================== CONTEXTOS (4) ====================
  {
    code: 'CONTEXT_ALL',
    name: 'Día Completo',
    description: 'Registra en 3 contextos diferentes en un día',
    xpReward: 150,
    tier: 'silver',
    category: 'CONTEXTOS',
    condition: {
      type: 'time_window',
      entity: 'glucose_readings',
      window: 'day',
      operator: 'gte',
      value: 3,
      uniqueContexts: true,
    },
  },
  {
    code: '7_READINGS_DAY',
    name: 'Intensivo',
    description: 'Registra 7 glucemias en un día',
    xpReward: 75,
    tier: 'silver',
    category: 'CONTEXTOS',
    condition: {
      type: 'time_window',
      entity: 'glucose_readings',
      window: 'day',
      operator: 'gte',
      value: 7,
    },
  },
  {
    code: 'MORNING_ROUTINE',
    name: 'Rutina Matutina',
    description: 'Registra en ayunas durante 7 días consecutivos',
    xpReward: 100,
    tier: 'silver',
    category: 'CONTEXTOS',
    condition: {
      type: 'consecutive',
      days: 7,
      requireContext: 'FASTING',
    },
  },
  {
    code: 'BEDTIME_ROUTINE',
    name: 'Rutina Nocturna',
    description: 'Registra antes de dormir durante 7 días consecutivos',
    xpReward: 100,
    tier: 'silver',
    category: 'CONTEXTOS',
    condition: {
      type: 'consecutive',
      days: 7,
      requireContext: 'BEDTIME',
    },
  },

  // ==================== CONTROL GLUCÉMICO (6) ====================
  {
    code: 'IN_RANGE_FIRST',
    name: 'Primer Éxito',
    description: 'Registra tu primera lectura en rango',
    xpReward: 25,
    tier: 'bronze',
    category: 'CONTROL',
    condition: {
      type: 'count',
      entity: 'glucose_readings',
      operator: 'gte',
      value: 1,
      inRange: true,
    },
  },
  {
    code: 'IN_RANGE_10',
    name: 'Buen Camino',
    description: '10 lecturas consecutivas en rango',
    xpReward: 150,
    tier: 'silver',
    category: 'CONTROL',
    condition: {
      type: 'in_range',
      consecutive: 10,
    },
  },
  {
    code: 'IN_RANGE_DAY',
    name: 'Día Perfecto',
    description: 'Todas las lecturas del día en rango',
    xpReward: 200,
    tier: 'silver',
    category: 'CONTROL',
    condition: {
      type: 'in_range',
      allInDay: true,
      minReadingsPerDay: 3,
    },
  },
  {
    code: 'IN_RANGE_WEEK',
    name: 'Semana Dorada',
    description: '7 días perfectos consecutivos',
    xpReward: 500,
    tier: 'gold',
    category: 'CONTROL',
    condition: {
      type: 'in_range',
      perfectDays: 7,
      minReadingsPerDay: 1,
    },
  },
  {
    code: 'TIME_IN_RANGE_70',
    name: 'Dominio 70%',
    description: 'Mantén 70% de tiempo en rango durante una semana',
    xpReward: 300,
    tier: 'gold',
    category: 'CONTROL',
    condition: {
      type: 'percentage',
      metric: 'time_in_range',
      window: 'week',
      operator: 'gte',
      value: 70,
      minSamples: 20,
    },
  },
  {
    code: 'TIME_IN_RANGE_80',
    name: 'Dominio 80%',
    description: 'Mantén 80% de tiempo en rango durante una semana',
    xpReward: 500,
    tier: 'platinum',
    category: 'CONTROL',
    condition: {
      type: 'percentage',
      metric: 'time_in_range',
      window: 'week',
      operator: 'gte',
      value: 80,
      minSamples: 20,
    },
  },

  // ==================== ESPECIALES (4) ====================
  {
    code: 'EARLY_ADOPTER',
    name: 'Early Adopter',
    description: 'Ser uno de los primeros 1000 usuarios',
    xpReward: 500,
    tier: 'platinum',
    category: 'ESPECIALES',
    condition: {
      type: 'date',
      check: 'user_number',
      value: 1000,
    },
  },
  {
    code: 'STREAK_RECOVERED',
    name: 'Segunda Oportunidad',
    description: 'Recupera tu racha perdida',
    xpReward: 25,
    tier: 'bronze',
    category: 'ESPECIALES',
    condition: {
      type: 'event',
      eventName: 'STREAK_RECOVERED',
    },
  },
  {
    code: 'PREMIUM_MEMBER',
    name: 'Miembro Premium',
    description: 'Conviértete en miembro premium',
    xpReward: 100,
    tier: 'gold',
    category: 'ESPECIALES',
    condition: {
      type: 'user_attribute',
      attribute: 'isPremium',
      operator: 'eq',
      value: true,
    },
  },
  {
    code: 'DIABETES_DAY',
    name: 'Día Mundial de la Diabetes',
    description: 'Registra una glucemia el 14 de noviembre',
    xpReward: 50,
    tier: 'bronze',
    category: 'ESPECIALES',
    condition: {
      type: 'date',
      check: 'month_day',
      value: '11-14',
    },
  },
];
